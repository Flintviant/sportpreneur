AddType application/x-httpd-php .html

<IfModule mod_rewrite.c>
    Options +FollowSymLinks
    RewriteEngine On
    RewriteBase /

    # ============================================================
    # ðŸ”¹ PAKSA HTTPS & WWW (SEO & keamanan)
    # ============================================================
    RewriteCond %{HTTPS} off [OR]
    # RewriteCond %{HTTP_HOST} !^www\.sportshop\.id$ [NC]
    # RewriteRule ^(.*)$ https://www.sportshop.id/$1 [L,R=301]

    # ============================================================
    # ðŸ”¹ LEWATKAN FILE & FOLDER ASLI
    # ============================================================
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d

    # ============================================================
    # ðŸ”¹ URL UTAMA (halaman statis & dinamis)
    # ============================================================
    RewriteRule ^index(.*)$ index.php?url=$1 [L]
    # RewriteRule ^bisnis(.*)$ bisnis.html?url=$1 [L]
    RewriteRule ^product(.*)$ product.php?url=$1 [L]
    # RewriteRule ^kontak(.*)$ contact.html?url=$1 [L]
    # RewriteRule ^belanja(.*)$ shop.html?url=$1 [L]
    # RewriteRule ^lihatartikel(.*)$ blog/lihatArtikel.html?url=$1 [L]
    # RewriteRule ^promo(.*)$ promo.php?url=$1 [L]

    # ============================================================
    # ðŸ”¹ BLOG SEO URL (SLUG)
    # ============================================================
    # Contoh: /blog/kanker-hati-gejala-penyebab â†’ /blog/lihatArtikel.php?id=slug
    RewriteRule ^blog/([a-zA-Z0-9-]+)/?$ blog/lihatArtikel.php?id=$1 [L,QSA]

    # ============================================================
    # ðŸ”¹ REDIRECT OTOMATIS DARI LINK LAMA (?id=)
    # ============================================================
    # RewriteCond %{THE_REQUEST} \s/blog/lihatArtikel\.php\?id=([^&\s]+)
    # RewriteRule ^blog/lihatArtikel\.php$ /blog/%1? [R=301,L]
</IfModule>

# ============================================================
# ðŸ”¹ CACHING UNTUK PERFORMA
# ============================================================
<IfModule mod_expires.c>
  ExpiresActive On

  # Images
  ExpiresByType image/webp "access plus 1 year"
  ExpiresByType image/jpeg "access plus 1 year"
  ExpiresByType image/png "access plus 1 year"
  ExpiresByType image/svg+xml "access plus 1 year"
  ExpiresByType image/gif "access plus 1 year"
  
  # Fonts
  ExpiresByType font/woff2 "access plus 1 year"
  ExpiresByType font/woff "access plus 1 year"

  # CSS & JS
  ExpiresByType text/css "access plus 1 month"
  ExpiresByType application/javascript "access plus 1 month"
  ExpiresByType application/x-javascript "access plus 1 month"
</IfModule>

# ============================================================
# ðŸ”¹ HEADER CACHE CONTROL
# ============================================================
<IfModule mod_headers.c>
  <FilesMatch "\.(ico|jpg|jpeg|png|gif|webp|js|css|woff2?)$">
    Header set Cache-Control "public, max-age=31536000, immutable"
  </FilesMatch>
</IfModule>

# ============================================================
# ðŸ”¹ LINDUNGI FILE SENSITIF
# ============================================================
<FilesMatch "\.(env|htaccess|ini|log|bak|sql)$">
  Order allow,deny
  Deny from all
</FilesMatch>
